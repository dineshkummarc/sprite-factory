<script src='http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.js'></script>
<script src='../sprite-factory.js'></script>

<style>
.loading { background-color: #cdf !important;}
</style>

<script>


$().ready(function() {
  $$ = $("#output")
  var factory = new SpriteFactory({src: "./pieces40.png", width:40, height:40, index: [2,6]})

  $("#o1").append(factory.generate([1,2]))  
  $("#o2").append(factory.generate([0,2]).attr("id", "b"))
    

  var factory2 = new SpriteFactory({src: "http://img529.imageshack.us/img529/1048/chessbi9.png?" + (new Date) , width:40, height:40, index: [2,6], light: true})
  
  $("#o4").append(factory2.generate([1,2]))
  $("#o5").append(factory2.generate([1,2]).attr("id", "c"))
  
  
  
  var i = 0;
  function update() {
    factory.update($("#b"), [1,i])
    factory2.update($("#c"), [1,i])
    i = (i+1) % 5 
  }
  
  setInterval(update, 300)
  
  
})

</script>

<div id=output>
  
<h2>Default factory</h2>
<p>Full IE PNG transparency compatibility</p>
<p>Uses two dom elements per sprite</p>
<p>Preloading</p>

<h3>Test</h3>  
<div id="o1"></div>
<h3>Test update</h3>  
<div id="o2"></div>
<h3>Test fadein/fadeout transparent pngs</h3>  
<p>This should look ok in IE</p>
<div id="o3"></div>

<h2>Light factory</h2>
<p>Only 1 dom element per sprite</p>
<p>No IE PNG transparency</p>


<h3>Test light factory with preload CSS</h3>  
<div id="o4"></div>
<h3>Test update with preload CSS</h3>
<div id="o5"></div>

<h3>Test fadein/fadeout transparent pngs</h3>  
<p>This should look <b>bad</b> in IE</p>
<div id="o6"></div>



</div>
